import os
import numpy as np
import math


MAP_SIZE = 50.0
OCC_FILE = "occupancy_grid_20250823_123010.npy"

CSV_FILE = "Survey Responses - Sheet1.csv"

# IDs
UNIQUE_ID_DEFAULT = "cb5846"
UNIQUE_ID = os.getenv("VISITOR_ID", UNIQUE_ID_DEFAULT)

# CSV columns 
COL_ID = 1
COL_ITIN = 16

TIME_STEP = 32
MAX_SPEED = 6.4

# Planning (global)
COARSE_FACTOR = 4
ROBOT_RADIUS   = 1.02
EXTRA_MARGIN   = 0.18
PENALTY_BAND   = 1.00
PENALTY_GAIN   = 20.0
SAFETY_MARGIN_PLOT = 0.25

# DWA (local)
W_GOAL   = 6.0
W_CLEAR  = 6.0
W_SPEED  = 0.8
W_SMOOTH = 0.25
W_HEAD   = 1.5
W_CARROT_PULL = 1.0

AXLE_LEN = 0.40
V_MAX    = 2.4
W_MAX    = 2.4
V_GRID   = np.linspace(0.0, 2.0, 5)
W_GRID   = np.linspace(-1.0, 1.0, 9)
DT_PRED  = 0.45


TURN_IN_PLACE_W = 0.8   
TURN_SLOW_W     = 0.5  
V_TURN_SLOW     = 0.12 
HEADING_DEADBAND_DEG = 5.0 
W_DEADBAND = 0.05  
    
FRONT_ARC_DEG   = 40
EMERG_STOP      = 3.0
EMERG_RELEASE   = 1.7

FORWARD_CONE_DEG   = 60
FORWARD_CLEAR_DIST = 0.7

LOOKAHEAD = 8
WAYPOINT_RADIUS = 0.25
STALL_STEPS_REPLAN = 240
BLOCKED_CONSECUTIVE_FOR_REPLAN = 5000
BLOCK_CHECK_AHEAD = 20
OBSTACLE_CLEAR_MIN = 0.65

NEAR_GOAL_RADIUS = 0.9
GOAL_CAPTURE_DIST = 0.22
W_GOAL_DIST = 3.0